<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Boot Xbox 360 — v0.4a Demo</title>
<style>
body,html{margin:0;padding:0;height:100%;background:#0b6623;color:#eaffea;font-family:Arial,sans-serif;overflow:hidden}
#bootVideo,#gameVideo{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;display:none;z-index:1}
.startScreen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:3}
.start-btn,.actionBtn{background:linear-gradient(180deg,#25ff7a,#0b6623);color:#012;padding:14px 34px;border-radius:999px;border:0;font-weight:900;cursor:pointer;margin:6px;box-shadow:0 12px 30px rgba(0,0,0,0.25)}
#fileInput{display:none}
#gamesPanel{position:fixed;left:18px;top:70px;width:400px;max-height:72vh;overflow-y:auto;background:rgba(0,0,0,0.6);backdrop-filter:blur(6px);padding:12px;border-radius:12px;display:none;z-index:4}
#gamesPanel h3{margin-top:0;color:#25ff7a;font-family:monospace}
#gamesPanel ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px;}
#gamesPanel li{padding:12px;cursor:pointer;border-radius:8px;background:rgba(37,255,122,0.1);display:flex;align-items:center;gap:12px;transition:all 0.2s;}
#gamesPanel li:hover{background:rgba(37,255,122,0.25);transform:scale(1.02);}
.gameIcon{width:50px;height:50px;background:#012;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#25ff7a;font-weight:bold;}
.gameName{flex:1;font-family:monospace;font-weight:700}
</style>
</head>
<body>

<video id="bootVideo" playsinline preload="auto">
  <source src="xbox360_boot.mp4" type="video/mp4">
</video>

<video id="gameVideo" playsinline preload="auto"></video>

<div class="startScreen" id="startScreen">
  <h1>Boot Xbox 360</h1>
  <button id="startBtn" class="start-btn">Iniciar Boot</button>
  <label class="actionBtn" for="fileInput">📂 Adicionar Jogo</label>
  <input type="file" id="fileInput" accept=".mp4,.xex,.iso">
  <button id="toggleGamesBtn" class="actionBtn">🎮 Lista de Jogos</button>
</div>

<div id="gamesPanel">
  <h3>📚 Jogos</h3>
  <ul id="gamesList"></ul>
</div>

<script>
// Elementos
const startScreen = document.getElementById('startScreen');
const startBtn = document.getElementById('startBtn');
const fileInput = document.getElementById('fileInput');
const gamesList = document.getElementById('gamesList');
const gamesPanel = document.getElementById('gamesPanel');
const toggleGamesBtn = document.getElementById('toggleGamesBtn');
const bootVideo = document.getElementById('bootVideo');
const gameVideo = document.getElementById('gameVideo');

let games = []; // Array {name, file}

// Iniciar boot
startBtn.onclick = ()=>{
  bootVideo.style.display='block';
  bootVideo.currentTime=0;
  bootVideo.play();
  startScreen.style.display='none';
  bootVideo.onended = ()=>{bootVideo.style.display='none';startScreen.style.display='flex';}
}

// Toggle painel de jogos
toggleGamesBtn.onclick = ()=>{
  gamesPanel.style.display = (gamesPanel.style.display==='none')?'flex':'none';
}

// Upload de jogo
fileInput.onchange = (e)=>{
  const file = e.target.files[0];
  if(file){
    const name = file.name;
    games.push({name:file.name,file:file});
    const li = document.createElement('li');

    // Ícone estilo Xenia
    const icon = document.createElement('div');
    icon.className='gameIcon';
    icon.textContent='🎮';

    const span = document.createElement('div');
    span.className='gameName';
    span.textContent=name;

    li.appendChild(icon);
    li.appendChild(span);
    li.onclick = ()=>playGame(file);
    gamesList.appendChild(li);
  }
}

// Função de reproduzir jogo
function playGame(file){
  if(file.type.startsWith('video')){
    gameVideo.src = URL.createObjectURL(file);
    gameVideo.style.display='block';
    gameVideo.currentTime=0;
    gameVideo.play();
    startScreen.style.display='none';
    gamesPanel.style.display='none';
    gameVideo.onended = ()=>{
      gameVideo.style.display='none';
      startScreen.style.display='flex';
    }
  } else {
    alert('Somente arquivos de vídeo podem ser reproduzidos neste demo.');
  }
}
</script>

</body>
</html>
